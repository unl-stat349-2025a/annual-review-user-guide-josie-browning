<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-03-14">

<title>User Guide: Bias in Actuarial Models - 1&nbsp; User Guide To Bias in Actuarial Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title"><strong>User Guide To Bias in Actuarial Models</strong></span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">User Guide: Bias in Actuarial Models</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Assignment Flow</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./guide.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title"><strong>User Guide To Bias in Actuarial Models</strong></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Appendices</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./topic.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Topic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./needs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Needs Assessment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./task-analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Task Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-is-bias" id="toc-what-is-bias" class="nav-link active" data-scroll-target="#what-is-bias"><span class="toc-section-number">1.1</span>  <strong>What is Bias?</strong></a>
  <ul class="collapse">
  <li><a href="#why-do-we-care" id="toc-why-do-we-care" class="nav-link" data-scroll-target="#why-do-we-care"><span class="toc-section-number">1.1.1</span>  <strong>Why Do We Care?</strong></a></li>
  <li><a href="#what-does-bias-look-like-in-models" id="toc-what-does-bias-look-like-in-models" class="nav-link" data-scroll-target="#what-does-bias-look-like-in-models"><span class="toc-section-number">1.1.2</span>  <strong>What Does Bias Look Like in Models?</strong></a></li>
  </ul></li>
  <li><a href="#data-example" id="toc-data-example" class="nav-link" data-scroll-target="#data-example"><span class="toc-section-number">1.2</span>  <strong>Data Example</strong></a>
  <ul class="collapse">
  <li><a href="#stop-and-think-about-your-model" id="toc-stop-and-think-about-your-model" class="nav-link" data-scroll-target="#stop-and-think-about-your-model"><span class="toc-section-number">1.2.1</span>  <strong>Stop and Think About Your Model</strong></a></li>
  <li><a href="#where-to-look-for-bias" id="toc-where-to-look-for-bias" class="nav-link" data-scroll-target="#where-to-look-for-bias"><span class="toc-section-number">1.2.2</span>  <strong>Where to look for Bias</strong></a></li>
  <li><a href="#assumptions" id="toc-assumptions" class="nav-link" data-scroll-target="#assumptions"><span class="toc-section-number">1.2.3</span>  <strong>Assumptions</strong></a></li>
  </ul></li>
  <li><a href="#bias-analysis" id="toc-bias-analysis" class="nav-link" data-scroll-target="#bias-analysis"><span class="toc-section-number">1.3</span>  <strong>Bias Analysis</strong></a>
  <ul class="collapse">
  <li><a href="#visual-comparisons" id="toc-visual-comparisons" class="nav-link" data-scroll-target="#visual-comparisons"><span class="toc-section-number">1.3.1</span>  <strong>Visual Comparisons</strong></a></li>
  <li><a href="#disparate-impact" id="toc-disparate-impact" class="nav-link" data-scroll-target="#disparate-impact"><span class="toc-section-number">1.3.2</span>  <strong>Disparate Impact</strong></a></li>
  <li><a href="#direct-disparity" id="toc-direct-disparity" class="nav-link" data-scroll-target="#direct-disparity"><span class="toc-section-number">1.3.3</span>  <strong>Direct Disparity</strong></a></li>
  </ul></li>
  <li><a href="#addressing-bias" id="toc-addressing-bias" class="nav-link" data-scroll-target="#addressing-bias"><span class="toc-section-number">1.4</span>  Addressing Bias</a>
  <ul class="collapse">
  <li><a href="#model-correction-quality" id="toc-model-correction-quality" class="nav-link" data-scroll-target="#model-correction-quality"><span class="toc-section-number">1.4.1</span>  <strong>Model Correction &amp; Quality</strong></a></li>
  <li><a href="#need-further-help-with-your-model" id="toc-need-further-help-with-your-model" class="nav-link" data-scroll-target="#need-further-help-with-your-model"><span class="toc-section-number">1.4.2</span>  <strong>Need further help with your model?</strong></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title"><strong>User Guide To Bias in Actuarial Models</strong></span></h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 14, 2025</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>In the ever evolving world of actuarial science, the traditional methods of building models and estimators don’t always stand up to the test of time. Advanced technology and understanding of models has led to the realization that bias is deeply embedded in populations. Luckily, we have new tools to identify and address this issue. In this guide, we will walk through what this bias may look like, what steps can be taken to account for it, and look at an example in code.</p>
<section id="what-is-bias" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="what-is-bias"><span class="header-section-number">1.1</span> <strong>What is Bias?</strong></h2>
<p><u>Bias</u> is “a systematic distortion of a statistical result”, as described by Oxford Languages. In other words, bias is as aspect embedded in data that introduces an certain inclination or favor towards a result that otherwise would not exist without the bias.</p>
<p>There are many different kinds of bias, it can look different, be caused by different sources, and effects the data/model differently. Because of this variety, there is no single blanket test to run that can tell us if the model is biased or not. So to be a vigilant actuary, it is important to be aware of how bias may enter our model, how to look and check for bias, and how to address it.</p>
<section id="why-do-we-care" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="why-do-we-care"><span class="header-section-number">1.1.1</span> <strong>Why Do We Care?</strong></h3>
<p>Bias can cause incorrect results in models if not addressed correctly. As modern day actuaries, we have a responsibility to build products that are <u>fair</u> and <u>accurate</u>. A poorly made model can cause a model’s algorithm to incorrectly deny claims, charge policyholders the wrong amount, or company to lose money. In a= delicate situation where small errors cause serious impacts on real people, actuaries are always expected to uphold a standard of quality work. In the words of Scott Priebe, the chief actuary at Pacific Life, “Actuaries are servants of the people first, and problem solvers second.”</p>
</section>
<section id="what-does-bias-look-like-in-models" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="what-does-bias-look-like-in-models"><span class="header-section-number">1.1.2</span> <strong>What Does Bias Look Like in Models?</strong></h3>
<p>It is important to know that bias can enter data during collection, selection, and design. Just because data is unbiased at one point does not mean it will be permanently. This is especially relevant if you are using data that someone else collected. So here is how we can spot some obvious bias, and later we’ll go over how to find the hidden bias.</p>
<ol type="1">
<li>Read up on how the data was sampled. Some obvious problems may be obvious if you examine the population and sampling methods used to get the data.
<ol type="1">
<li><u>Example:</u> Estimating the average income of adults in a city and only sampling from people living in houses. This would likely cause your estimate to be higher than it should be, because the data excludes anyone living in group housing, like apartments or retirement homes.</li>
</ol></li>
<li>Visualizing your data may show you an obvious problem with your data. Making a histogram or scatter plot can show you patterns, gaps, or discrepancies between groups. Depending on your data, it is a good idea to compare the response between any major factor (sex, race, economic status, etc.) as these are the most common places where bias can arise.
<ol type="1">
<li><p>If you need help with visualization, here are some places to start:</p>
<p><a href="https://www.geeksforgeeks.org/data-visualization-in-r/" class="uri">https://www.geeksforgeeks.org/data-visualization-in-r/</a></p>
<p><a href="https://r-graph-gallery.com/ggplot2-package.html" class="uri">https://r-graph-gallery.com/ggplot2-package.html</a></p>
<p><a href="https://libguides.princeton.edu/R-Visualization" class="uri">https://libguides.princeton.edu/R-Visualization</a></p></li>
</ol></li>
</ol>
</section>
</section>
<section id="data-example" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="data-example"><span class="header-section-number">1.2</span> <strong>Data Example</strong></h2>
<p>To get a good idea on what getting started might look like, I will introduce some example data and the model I made from it.</p>
<p>First, I’m going generate data with a clear gender bias. I’ll work with this simple example for the entire guide to show what each step looks like in code. The data I made includes age, gender, numbers of claims, and the premium charged. I then put together a model and created a column of claims that are predicted using the model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.2.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">500</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">18</span><span class="sc">:</span><span class="dv">70</span>, n, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>gender <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>claims <span class="ot">&lt;-</span> <span class="fu">rpois</span>(n, <span class="at">lambda =</span> <span class="fl">1.2</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>premium_base <span class="ot">&lt;-</span> <span class="dv">200</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>age_effect <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">3</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>claim_effect <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>premiums <span class="ot">&lt;-</span> premium_base <span class="sc">+</span> (age_effect <span class="sc">*</span> (age <span class="sc">-</span> <span class="dv">30</span>)) <span class="sc">+</span> (claim_effect <span class="sc">*</span> claims) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">50</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>insurance_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(age, gender, claims, premiums)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Premiums are charged at a higher rate for females</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>insurance_data<span class="sc">$</span>premiums <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(insurance_data<span class="sc">$</span>gender <span class="sc">==</span> <span class="st">"Female"</span>,</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>                                 insurance_data<span class="sc">$</span>premiums <span class="sc">*</span> <span class="fl">1.2</span>,</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>                                 insurance_data<span class="sc">$</span>premiums)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>model <span class="ot">=</span> <span class="fu">lm</span>(premiums <span class="sc">~</span> age <span class="sc">+</span> <span class="fu">factor</span>(gender) <span class="sc">+</span> claims, <span class="at">data =</span> insurance_data)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = premiums ~ age + factor(gender) + claims, data = insurance_data)

Residuals:
     Min       1Q   Median       3Q      Max 
-151.411  -39.441    0.475   33.017  190.876 

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)        352.5968     8.7808  40.155   &lt;2e-16 ***
age                 -3.5359     0.1668 -21.192   &lt;2e-16 ***
factor(gender)Male -45.9716     4.9924  -9.208   &lt;2e-16 ***
claims              56.5022     2.2818  24.762   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 55.71 on 496 degrees of freedom
Multiple R-squared:  0.6952,    Adjusted R-squared:  0.6933 
F-statistic: 377.1 on 3 and 496 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict premium</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>insurance_data<span class="sc">$</span>predicted_premiums <span class="ot">&lt;-</span> <span class="fu">predict</span>(model, <span class="at">newdata =</span> insurance_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="stop-and-think-about-your-model" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="stop-and-think-about-your-model"><span class="header-section-number">1.2.1</span> <strong>Stop and Think About Your Model</strong></h3>
<p>Before you jump into analysis, really think about how your model was built. Who collected the data? Who funded the collection? What was the motivation? Underlying bias can easily be sourced back to one of these reasons.</p>
</section>
<section id="where-to-look-for-bias" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="where-to-look-for-bias"><span class="header-section-number">1.2.2</span> <strong>Where to look for Bias</strong></h3>
<p>In actuarial models, it is most important in products to assess if policyholders are being charged the correct amount. The goal in assessing bias is seeing if two groups who are very similar with only one difference are being charged differently. With my example data, we will look at if men and women with a similar profile are being charged differently. In reality, factors like accident history, location, vehicle type, and credit score are all considered in premium cost. Some of these factors are not independent and require a more complex model to be accurately fitted. If you do not have a model built from your data here are some resources: <a href="https://www.datacamp.com/tutorial/linear-regression-R" class="uri">https://www.datacamp.com/tutorial/linear-regression-R</a></p>
<p>If you have dependent or categorical variables that you need to have in your model:</p>
<p><a href="https://www.statology.org/multicollinearity-in-r/" class="uri">https://www.statology.org/multicollinearity-in-r/</a></p>
<p><a href="https://www.sthda.com/english/articles/40-regression-analysis/163-regression-with-categorical-variables-dummy-coding-essentials-in-r/" class="uri">https://www.sthda.com/english/articles/40-regression-analysis/163-regression-with-categorical-variables-dummy-coding-essentials-in-r/</a></p>
</section>
<section id="assumptions" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="assumptions"><span class="header-section-number">1.2.3</span> <strong>Assumptions</strong></h3>
<p>Lastly, there are some important assumption for your data before you start an analysis.</p>
<ol type="1">
<li><p>Data should be sufficiently large. While there is not exact threshold, there should at least be over 100 observations. Here is a resource for learning more about selecting sample size: <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC4148275/" class="uri">https://pmc.ncbi.nlm.nih.gov/articles/PMC4148275/</a></p></li>
<li><p>If there are subgroups within your data, there should be equal representation of these groups. You can verify this by checking about the data were sampled (blocks, clusters, random sampling).</p></li>
<li><p>Make sure your data (or model) are not missing any relevant variables that influence the response (like age for insurance pricing).</p></li>
<li><p>Be careful of missing values, and look at where more values are missing before removing them. It’s common to have more missing values in low-income participants, and you could accidentally introduce bias by removing them. If you think you have sensitive missing values, here a two sources to help handle them: <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC3668100/" class="uri">https://pmc.ncbi.nlm.nih.gov/articles/PMC3668100/</a>, <a href="https://rpubs.com/chibueze99/MissingR" class="uri">https://rpubs.com/chibueze99/MissingR</a></p></li>
<li><p>Normality, some tests used in this analysis make this assumption, so it is important to check your data first. Running certain tests on non-normal data can cause misleading results. Here is how you can check any numerical variables using the Shapiro-Wilks Test:</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(insurance_data<span class="sc">$</span>age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  insurance_data$age
W = 0.95714, p-value = 7.053e-11</code></pre>
</div>
</div>
<p>A p-value result that is significant (less that 0.05) means your variable is normally distributed.</p>
<p>If you found that one or many variables are not normal, here is a source to handle that data: <a href="https://www.isixsigma.com/normality/dealing-non-normal-data-strategies-and-tools/" class="uri">https://www.isixsigma.com/normality/dealing-non-normal-data-strategies-and-tools/</a></p>
<p>Note that if the p-value is between 0.05 and 0.1, you may still say your data is approximately normal, but returning to the visualization step and looking at the distributions would be a good idea.</p>
</section>
</section>
<section id="bias-analysis" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="bias-analysis"><span class="header-section-number">1.3</span> <strong>Bias Analysis</strong></h2>
<p>Our first steps into bias analysis are to apply fairness metrics where we think bias could be located. We can start by looking for direct disparity, meaning we are making comparisons between groups to see if we can find a difference that shouldn’t be there.</p>
<section id="visual-comparisons" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="visual-comparisons"><span class="header-section-number">1.3.1</span> <strong>Visual Comparisons</strong></h3>
<p>I am first going to check what the premiums looks like between males and females.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(insurance_data, <span class="fu">aes</span>(<span class="at">x =</span> premiums, <span class="at">fill =</span> gender)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Premium Distribution by Gender"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="guide_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Looking at this graph would raise a red flag to me. Based on previous research, we should expected that females get charged slightly less than males, but this graph tells us otherwise. Since I designed the data I know there is a gender bias, but with real data, this is a definite sign to investigate further.</p>
</section>
<section id="disparate-impact" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="disparate-impact"><span class="header-section-number">1.3.2</span> <strong>Disparate Impact</strong></h3>
<p>This test takes the ratio of the mean predicted premiums by gender. If the results are significantly greater than or less than 1, we can suspect bias between the groups.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(insurance_data<span class="sc">$</span>predicted_premiums[insurance_data<span class="sc">$</span>gender <span class="sc">==</span> <span class="st">"Female"</span>]) <span class="sc">/</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(insurance_data<span class="sc">$</span>predicted_premiums[insurance_data<span class="sc">$</span>gender <span class="sc">==</span> <span class="st">"Male"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.214633</code></pre>
</div>
</div>
<p>Since the result of 1.266 is greater than 1, it suggests bias.</p>
</section>
<section id="direct-disparity" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="direct-disparity"><span class="header-section-number">1.3.3</span> <strong>Direct Disparity</strong></h3>
<p>If you’re still not sure if the bias is present, another simple way to check for bias between groups is to compare means, and then run a t-test to check for a significant difference.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>insurance_data <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gender) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_premiums =</span> <span class="fu">mean</span>(premiums))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  gender mean_premiums
  &lt;chr&gt;          &lt;dbl&gt;
1 Female          260.
2 Male            214.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(premiums <span class="sc">~</span> gender, <span class="at">data =</span> insurance_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  premiums by gender
t = 5.2335, df = 481.14, p-value = 2.488e-07
alternative hypothesis: true difference in means between group Female and group Male is not equal to 0
95 percent confidence interval:
 28.70285 63.21201
sample estimates:
mean in group Female   mean in group Male 
            260.0785             214.1211 </code></pre>
</div>
</div>
<p>The results of the t test are significant. This result is interpreted as we have enough evidence to conclude there is a significant difference between the mean premiums of men and women.</p>
</section>
</section>
<section id="addressing-bias" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="addressing-bias"><span class="header-section-number">1.4</span> Addressing Bias</h2>
<p>Now that we know there is a bias, we want to adjust our model accordingly so that all policyholders are charged a fair amount.</p>
<section id="model-correction-quality" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="model-correction-quality"><span class="header-section-number">1.4.1</span> <strong>Model Correction &amp; Quality</strong></h3>
<p>Important Note: Every time you make big changes to your model, you should go back and rerun the previous tests again. Log and compare every version of a model to assess the quality and trade offs.</p>
<p>With the goal of removing the bias from the model, we can reweigh the model and then create a new model. The new model will exclude gender to minimize the bias.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>insurance_data<span class="sc">$</span>weights <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">/</span> <span class="fu">prop.table</span>(<span class="fu">table</span>(insurance_data<span class="sc">$</span>gender))[insurance_data<span class="sc">$</span>gender]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>model_weighted <span class="ot">&lt;-</span> <span class="fu">lm</span>(premiums <span class="sc">~</span> age <span class="sc">+</span> claims, </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">data =</span> insurance_data, </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">weights =</span> insurance_data<span class="sc">$</span>weights)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_weighted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = premiums ~ age + claims, data = insurance_data, 
    weights = insurance_data$weights)

Weighted Residuals:
     Min       1Q   Median       3Q      Max 
-202.457  -57.106   -3.597   50.404  303.090 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 325.4959     8.9415   36.40   &lt;2e-16 ***
age          -3.4670     0.1803  -19.23   &lt;2e-16 ***
claims       57.3833     2.4658   23.27   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 85.21 on 497 degrees of freedom
Multiple R-squared:  0.6432,    Adjusted R-squared:  0.6418 
F-statistic: 448.1 on 2 and 497 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>When looking at the summary of the new weighted model, we can see the adjusted R squared is smaller than it was before. The adjusted R squared is a metric of how well our model explains the data, so seeing is decrease it not ideal. What this means is that we create a more fair model, but we traded it for a less accurate model. This is a common problem for models with few predictors, and often removing a predictors is not the solution.</p>
</section>
<section id="need-further-help-with-your-model" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="need-further-help-with-your-model"><span class="header-section-number">1.4.2</span> <strong>Need further help with your model?</strong></h3>
<p>If the weighted model decrease the quality of your model, here are some other options for how to continue addressing the bias.</p>
<p>Pre-processing: <a href="https://medium.com/ibm-data-ai/fairness-in-machine-learning-pre-processing-algorithms-a670c031fba8" class="uri">https://medium.com/ibm-data-ai/fairness-in-machine-learning-pre-processing-algorithms-a670c031fba8</a></p>
<p>Post-processing: <a href="https://holisticai.readthedocs.io/en/latest/getting_started/bias/mitigation/postprocessing.html" class="uri">https://holisticai.readthedocs.io/en/latest/getting_started/bias/mitigation/postprocessing.html</a></p>
<p>Machine Learning: <a href="https://www.geeksforgeeks.org/bias-vs-variance-in-machine-learning/" class="uri">https://www.geeksforgeeks.org/bias-vs-variance-in-machine-learning/</a></p>
<p>Random Forest: <a href="https://kdagiit.medium.com/bagging-and-random-forests-reducing-bias-and-variance-using-randomness-8d516214fe7f" class="uri">https://kdagiit.medium.com/bagging-and-random-forests-reducing-bias-and-variance-using-randomness-8d516214fe7f</a></p>
<p>Ultimately what you decide to do with your model depends on what you value. What is your model going to be used for? Is fairness or accuracy more important? Do you trust your data to be accurate to the population? Here is a resource to learn more about making decisions for your model and what they mean in the actuarial world. <a href="https://www.actuary.org/sites/default/files/2023-07/risk_brief_data_bias.pdf" class="uri">https://www.actuary.org/sites/default/files/2023-07/risk_brief_data_bias.pdf</a></p>
<p>From this article there is also a flow chart that may help with your process.</p>
<p><img src="images/Image 3-4-25 at 7.50 PM.jpeg" class="img-fluid"></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Assignment Flow</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright 2025, Josephine Browning</div>   
  </div>
</footer>



</body></html>